DROP PROCEDURE IF EXISTS add_migration;
DELIMITER ??
CREATE PROCEDURE `add_migration`()
BEGIN
DECLARE v INT DEFAULT 1;
SET v = (SELECT COUNT(*) FROM `migrations` WHERE `id`='20251018193511');
IF v = 0 THEN
INSERT INTO `migrations` VALUES ('20251018193511');
-- Add your query below.


-- Add missing spawn for Lady Dena Kennedy.
-- This npc was moved to Terokkar Forest in TBC.
INSERT INTO `creature` (`guid`, `id`, `id2`, `id3`, `id4`, `id5`, `map`, `position_x`, `position_y`, `position_z`, `orientation`, `spawntimesecsmin`, `spawntimesecsmax`, `wander_distance`, `health_percent`, `mana_percent`, `movement_type`, `spawn_flags`, `visibility_mod`, `patch_min`, `patch_max`) VALUES
(30018, 15991, 0, 0, 0, 0, 0, -8322.38, 531.075, 122.274, 0.663225, 300, 300, 0, 100, 100, 2, 0, 0, 8, 10);
-- Waypoints are stitched together from positions the npc has been seen in various sniffs.
INSERT INTO `creature_movement_template` (`entry`, `point`, `position_x`, `position_y`, `position_z`, `orientation`, `waittime`, `wander_distance`, `script_id`) VALUES 
(15991, 1, -8322.38, 531.075, 122.274, 0.663225, 60000, 0, 0),
(15991, 2, -8326.19, 532.184, 122.274, 100, 0, 0, 0),
(15991, 3, -8329.56, 533.848, 122.274, 100, 0, 0, 0),
(15991, 4, -8331.04, 538.34, 122.274, 100, 0, 0, 0),
(15991, 5, -8330.65, 541.131, 122.274, 100, 0, 0, 0),
(15991, 6, -8330.65, 541.131, 122.274, 0.663225, 60000, 0, 0),
(15991, 7, -8332.26, 539.873, 122.274, 100, 0, 0, 0),
(15991, 8, -8337.45, 536.276, 122.274, 100, 0, 0, 0),
(15991, 9, -8342.14, 533.611, 122.274, 100, 0, 0, 0),
(15991, 10, -8346.34, 534.946, 122.274, 100, 0, 0, 0),
(15991, 11, -8346.34, 534.946, 122.274, 2.26893, 60000, 0, 0),
(15991, 12, -8347.41, 529.505, 122.274, 100, 0, 0, 0),
(15991, 13, -8356.93, 520.331, 122.274, 100, 0, 0, 0),
(15991, 14, -8356.93, 520.331, 122.274, 3.8657, 60000, 0, 0),
(15991, 15, -8351.25, 517.59, 122.274, 100, 0, 0, 0),
(15991, 16, -8342.08, 505.555, 122.274, 100, 0, 0, 0),
(15991, 17, -8341.12, 500.983, 122.274, 100, 0, 0, 0),
(15991, 18, -8341.12, 500.983, 122.274, 3.82227, 60000, 0, 0),
(15991, 19, -8338.04, 500.513, 122.274, 100, 0, 0, 0),
(15991, 20, -8334.89, 502.92, 122.274, 100, 0, 0, 0),
(15991, 21, -8328.64, 508.107, 122.274, 100, 0, 0, 0),
(15991, 22, -8325.13, 507.286, 122.274, 100, 0, 0, 0),
(15991, 23, -8325.13, 507.286, 122.274, 5.37561, 60000, 0, 0),
(15991, 24, -8324.38, 511.552, 122.274, 100, 0, 0, 0),
(15991, 25, -8317.38, 516.906, 122.274, 100, 0, 0, 0),
(15991, 26, -8314.47, 521.884, 122.274, 100, 0, 0, 0),
(15991, 27, -8314.47, 521.884, 122.274, 0.663225, 60000, 0, 0),
(15991, 28, -8321.35, 523.275, 122.274, 100, 0, 0, 0),
(15991, 29, -8322.79, 528.207, 122.274, 100, 0, 0, 0),
(15991, 30, -8322.38, 531.075, 122.274, 100, 0, 0, 0);


-- End of migration.
END IF;
END??
DELIMITER ;
CALL add_migration();
DROP PROCEDURE IF EXISTS add_migration;
